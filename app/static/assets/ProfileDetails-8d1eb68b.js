import{u as S,r as d,b as w,o as i,c as r,t as s,e as t,f as p,g as o,h as g,j as f,A as b}from"./index-920c09db.js";const N={class:"container mt-5"},$={key:0,class:"alert alert-info text-center"},j={key:1,class:"alert alert-danger text-center"},C={key:2,class:"card shadow-lg mx-auto",style:{"max-width":"600px"}},D={class:"row g-0"},E={class:"col-md-5"},F=["src"],R={class:"col-md-7"},Y={class:"card-body"},I={class:"card-title mb-2"},L={class:"card-text"},V=t("strong",null,"Bio:",-1),z={class:"card-text mb-1"},M=t("strong",null,"Parish:",-1),U={class:"card-text mb-1"},H=t("strong",null,"Sex:",-1),J={class:"card-text mb-1"},O=t("strong",null,"Race:",-1),T={class:"card-text mb-1"},q=t("strong",null,"Birth Year:",-1),G={class:"card-text mb-1"},K=t("strong",null,"Height:",-1),Q={class:"card-text mb-1"},W=t("strong",null,"Fav Cuisine:",-1),X={class:"card-text mb-1"},Z=t("strong",null,"Fav Colour:",-1),tt={class:"card-text mb-1"},et=t("strong",null,"School Subject:",-1),st={class:"card-text mb-1"},ot=t("strong",null,"Political:",-1),at={class:"card-text mb-1"},lt=t("strong",null,"Religious:",-1),nt={class:"card-text mb-1"},ct=t("strong",null,"Family Oriented:",-1),it={class:"card-text text-muted mt-3 small"},rt=t("i",{class:"bi bi-heart"},null,-1),dt=t("button",{class:"btn btn-outline-secondary",disabled:""},[t("i",{class:"bi bi-envelope"}),o(" Email Profile ")],-1),ut={key:0,class:"text-success mt-2"},_t={key:1,class:"text-danger mt-2"},mt={__name:"ProfileDetails",setup(ht){const x=S(),e=d({}),v=d(!0),m=d(""),y=a=>{const l={year:"numeric",month:"long",day:"numeric"};return new Date(a).toLocaleDateString(void 0,l)},k=async()=>{var a,l;v.value=!0;try{const n=localStorage.getItem("token"),h=x.params.id,c=await f.get(`/api/profiles/${h}`,{headers:{Authorization:`Bearer ${n}`}});e.value=c.data}catch(n){m.value=((l=(a=n.response)==null?void 0:a.data)==null?void 0:l.message)||"Profile not found."}finally{v.value=!1}},u=d(""),_=d(""),P=async()=>{var a,l,n,h;u.value="",_.value="";try{const c=localStorage.getItem("token"),A=e.value.user_id,B=await f.post(`/api/profiles/${A}/favourite`,{},{headers:{Authorization:`Bearer ${c}`}});u.value=B.data.message||"Added to favourites."}catch(c){_.value=((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.error)||((h=(n=c.response)==null?void 0:n.data)==null?void 0:h.message)||"Could not add to favourites."}};return w(k),(a,l)=>(i(),r("div",N,[v.value?(i(),r("div",$,"Loading profile...")):m.value?(i(),r("div",j,s(m.value),1)):(i(),r("div",C,[t("div",D,[t("div",E,[t("img",{src:e.value.photo?`${p(b)}/uploads/${e.value.photo}`:`${p(b)}/uploads/defaultAvatar.png`,class:"img-fluid rounded-start h-100",alt:"Profile Picture",style:{"object-fit":"cover"}},null,8,F)]),t("div",R,[t("div",Y,[t("h4",I,s(e.value.username),1),t("p",L,[V,o(" "+s(e.value.biography||"N/A"),1)]),t("p",z,[M,o(" "+s(e.value.parish),1)]),t("p",U,[H,o(" "+s(e.value.sex),1)]),t("p",J,[O,o(" "+s(e.value.race),1)]),t("p",T,[q,o(" "+s(e.value.birth_year),1)]),t("p",G,[K,o(" "+s(e.value.height)+" in",1)]),t("p",Q,[W,o(" "+s(e.value.fav_cuisine),1)]),t("p",X,[Z,o(" "+s(e.value.fav_colour),1)]),t("p",tt,[et,o(" "+s(e.value.fav_school_sibject),1)]),t("p",st,[ot,o(" "+s(e.value.political?"Yes":"No"),1)]),t("p",at,[lt,o(" "+s(e.value.religious?"Yes":"No"),1)]),t("p",nt,[ct,o(" "+s(e.value.family_oriented?"Yes":"No"),1)]),t("p",it,"Joined: "+s(y(e.value.date_joined)),1),t("div",{class:"d-flex justify-content-between mt-4"},[t("button",{onClick:P,class:"btn btn-outline-danger"},[rt,o(" Favourite ")]),dt]),u.value?(i(),r("p",ut,s(u.value),1)):g("",!0),_.value?(i(),r("p",_t,s(_.value),1)):g("",!0)])])])]))]))}};export{mt as default};
