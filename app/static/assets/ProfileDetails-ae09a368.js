import{u as w,r as d,b as B,o as i,c as r,t as s,a as t,e as o,f as m,h as g}from"./index-5599e6d4.js";const N={class:"container mt-5"},S={key:0,class:"alert alert-info text-center"},j={key:1,class:"alert alert-danger text-center"},A={key:2,class:"card shadow-lg mx-auto",style:{"max-width":"600px"}},C={class:"row g-0"},D={class:"col-md-5"},$=["src"],F={class:"col-md-7"},Y={class:"card-body"},E={class:"card-title mb-2"},R={class:"card-text"},V=t("strong",null,"Bio:",-1),z={class:"card-text mb-1"},I=t("strong",null,"Parish:",-1),L={class:"card-text mb-1"},M=t("strong",null,"Sex:",-1),H={class:"card-text mb-1"},J=t("strong",null,"Race:",-1),O={class:"card-text mb-1"},T=t("strong",null,"Birth Year:",-1),U={class:"card-text mb-1"},q=t("strong",null,"Height:",-1),G={class:"card-text mb-1"},K=t("strong",null,"Fav Cuisine:",-1),Q={class:"card-text mb-1"},W=t("strong",null,"Fav Colour:",-1),X={class:"card-text mb-1"},Z=t("strong",null,"School Subject:",-1),tt={class:"card-text mb-1"},et=t("strong",null,"Political:",-1),st={class:"card-text mb-1"},ot=t("strong",null,"Religious:",-1),at={class:"card-text mb-1"},lt=t("strong",null,"Family Oriented:",-1),ct={class:"card-text text-muted mt-3 small"},nt=t("i",{class:"bi bi-heart"},null,-1),it=t("button",{class:"btn btn-outline-secondary",disabled:""},[t("i",{class:"bi bi-envelope"}),o(" Email Profile ")],-1),rt={key:0,class:"text-success mt-2"},dt={key:1,class:"text-danger mt-2"},ht={__name:"ProfileDetails",setup(ut){const f=w(),e=d({}),v=d(!0),p=d(""),b=a=>{const l={year:"numeric",month:"long",day:"numeric"};return new Date(a).toLocaleDateString(void 0,l)},x=async()=>{var a,l;v.value=!0;try{const c=localStorage.getItem("token"),h=f.params.id,n=await g.get(`http://localhost:8080/api/profiles/${h}`,{headers:{Authorization:`Bearer ${c}`}});e.value=n.data}catch(c){p.value=((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.message)||"Profile not found."}finally{v.value=!1}},u=d(""),_=d(""),y=async()=>{var a,l,c,h;u.value="",_.value="";try{const n=localStorage.getItem("token"),k=e.value.user_id,P=await g.post(`http://localhost:8080/api/profiles/${k}/favourite`,{},{headers:{Authorization:`Bearer ${n}`}});u.value=P.data.message||"Added to favourites."}catch(n){_.value=((l=(a=n.response)==null?void 0:a.data)==null?void 0:l.error)||((h=(c=n.response)==null?void 0:c.data)==null?void 0:h.message)||"Could not add to favourites."}};return B(x),(a,l)=>(i(),r("div",N,[v.value?(i(),r("div",S,"Loading profile...")):p.value?(i(),r("div",j,s(p.value),1)):(i(),r("div",A,[t("div",C,[t("div",D,[t("img",{src:e.value.photo?`http://localhost:8080/uploads/${e.value.photo}`:"http://localhost:8080/uploads/defaultAvatar.png",class:"img-fluid rounded-start h-100",alt:"Profile Picture",style:{"object-fit":"cover"}},null,8,$)]),t("div",F,[t("div",Y,[t("h4",E,s(e.value.username),1),t("p",R,[V,o(" "+s(e.value.biography||"N/A"),1)]),t("p",z,[I,o(" "+s(e.value.parish),1)]),t("p",L,[M,o(" "+s(e.value.sex),1)]),t("p",H,[J,o(" "+s(e.value.race),1)]),t("p",O,[T,o(" "+s(e.value.birth_year),1)]),t("p",U,[q,o(" "+s(e.value.height)+" in",1)]),t("p",G,[K,o(" "+s(e.value.fav_cuisine),1)]),t("p",Q,[W,o(" "+s(e.value.fav_colour),1)]),t("p",X,[Z,o(" "+s(e.value.fav_school_sibject),1)]),t("p",tt,[et,o(" "+s(e.value.political?"Yes":"No"),1)]),t("p",st,[ot,o(" "+s(e.value.religious?"Yes":"No"),1)]),t("p",at,[lt,o(" "+s(e.value.family_oriented?"Yes":"No"),1)]),t("p",ct,"Joined: "+s(b(e.value.date_joined)),1),t("div",{class:"d-flex justify-content-between mt-4"},[t("button",{onClick:y,class:"btn btn-outline-danger"},[nt,o(" Favourite ")]),it]),u.value?(i(),r("p",rt,s(u.value),1)):m("",!0),_.value?(i(),r("p",dt,s(_.value),1)):m("",!0)])])])]))]))}};export{ht as default};
