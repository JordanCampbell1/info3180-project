import{r as n,b as y,o as _,c as v,a as e,k as g,l as t,v as a,m as k,n as d,q as x,t as w,f as S,h as p}from"./index-a9c919b9.js";const U={class:"container mt-5"},V={class:"card shadow-lg"},C=e("div",{class:"card-header bg-primary text-white"},[e("h4",{class:"mb-0"},"Create New Profile")],-1),q={class:"card-body"},F=["onSubmit"],P={class:"row mb-3"},B={class:"col-md-6"},M=e("label",{class:"form-label"},"Biography",-1),R={class:"col-md-6"},j=e("label",{class:"form-label"},"Description",-1),T={class:"row mb-3"},D={class:"col-md-4"},N=e("label",{class:"form-label"},"Parish",-1),O={class:"col-md-4"},E=e("label",{class:"form-label"},"Sex",-1),I=e("option",{value:""},"Select",-1),z=e("option",null,"Male",-1),H=e("option",null,"Female",-1),J=[I,z,H],X={class:"col-md-4"},Y=e("label",{class:"form-label"},"Race",-1),A={class:"row mb-3"},G={class:"col-md-3"},K=e("label",{class:"form-label"},"Birth Year",-1),L={class:"col-md-3"},Q=e("label",{class:"form-label"},"Height (m)",-1),W={class:"col-md-3"},Z=e("label",{class:"form-label"},"Favourite Cuisine",-1),$={class:"col-md-3"},ee=e("label",{class:"form-label"},"Favourite Colour",-1),le={class:"row mb-3"},oe={class:"col-md-6"},se=e("label",{class:"form-label"},"Favourite School Subject",-1),te={class:"col-md-6"},ae=e("label",{class:"form-label"},"Beliefs",-1),ie={class:"form-check"},re=e("label",{class:"form-check-label",for:"political"},"Political",-1),ce={class:"form-check"},ne=e("label",{class:"form-check-label",for:"religious"},"Religious",-1),de={class:"form-check"},ue=e("label",{class:"form-check-label",for:"family_oriented"},"Family Oriented",-1),me=e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-success"},"Create Profile")],-1),pe={__name:"CreateProfile",setup(_e){const f=localStorage.getItem("user"),u=JSON.parse(f);console.log("User ID:",u.id);const m=n(""),o=n({description:"",parish:"",biography:"",sex:"",race:"",birth_year:"",height:"",fav_cuisine:"",fav_colour:"",fav_school_subject:"",political:!1,religious:!1,family_oriented:!1,user_id:u.id}),r=n(""),c=n(""),h=async()=>{try{const i=await p.get("http://localhost:8080/api/csrf-token",{withCredentials:!0});m.value=i.data.csrf_token}catch(i){console.error("Failed to fetch CSRF token:",i),r.value="Unable to get CSRF token.",c.value="alert-danger"}},b=async()=>{var i,s;r.value="";try{await p.post("http://localhost:8080/api/profiles",o.value,{headers:{"X-CSRFToken":m.value},withCredentials:!0}),r.value="Profile created successfully!",c.value="alert-success",Object.keys(o.value).forEach(l=>o.value[l]=typeof o.value[l]=="boolean"?!1:"")}catch(l){console.error(l),r.value=((s=(i=l.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to create profile.",c.value="alert-danger"}};return y(h),(i,s)=>(_(),v("div",U,[e("div",V,[C,e("div",q,[e("form",{onSubmit:g(b,["prevent"])},[e("div",P,[e("div",B,[M,t(e("textarea",{"onUpdate:modelValue":s[0]||(s[0]=l=>o.value.biography=l),class:"form-control",rows:"2",required:""},null,512),[[a,o.value.biography]])]),e("div",R,[j,t(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=l=>o.value.description=l),class:"form-control",rows:"2",required:""},null,512),[[a,o.value.description]])])]),e("div",T,[e("div",D,[N,t(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>o.value.parish=l),type:"text",class:"form-control",required:""},null,512),[[a,o.value.parish]])]),e("div",O,[E,t(e("select",{"onUpdate:modelValue":s[3]||(s[3]=l=>o.value.sex=l),class:"form-select",required:""},J,512),[[k,o.value.sex]])]),e("div",X,[Y,t(e("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>o.value.race=l),type:"text",class:"form-control",required:""},null,512),[[a,o.value.race]])])]),e("div",A,[e("div",G,[K,t(e("input",{"onUpdate:modelValue":s[5]||(s[5]=l=>o.value.birth_year=l),type:"number",class:"form-control",required:""},null,512),[[a,o.value.birth_year,void 0,{number:!0}]])]),e("div",L,[Q,t(e("input",{"onUpdate:modelValue":s[6]||(s[6]=l=>o.value.height=l),type:"number",step:"0.01",class:"form-control",required:""},null,512),[[a,o.value.height,void 0,{number:!0}]])]),e("div",W,[Z,t(e("input",{"onUpdate:modelValue":s[7]||(s[7]=l=>o.value.fav_cuisine=l),type:"text",class:"form-control",required:""},null,512),[[a,o.value.fav_cuisine]])]),e("div",$,[ee,t(e("input",{"onUpdate:modelValue":s[8]||(s[8]=l=>o.value.fav_colour=l),type:"text",class:"form-control",required:""},null,512),[[a,o.value.fav_colour]])])]),e("div",le,[e("div",oe,[se,t(e("input",{"onUpdate:modelValue":s[9]||(s[9]=l=>o.value.fav_school_subject=l),type:"text",class:"form-control",required:""},null,512),[[a,o.value.fav_school_subject]])]),e("div",te,[ae,e("div",ie,[t(e("input",{"onUpdate:modelValue":s[10]||(s[10]=l=>o.value.political=l),class:"form-check-input",type:"checkbox",id:"political"},null,512),[[d,o.value.political]]),re]),e("div",ce,[t(e("input",{"onUpdate:modelValue":s[11]||(s[11]=l=>o.value.religious=l),class:"form-check-input",type:"checkbox",id:"religious"},null,512),[[d,o.value.religious]]),ne]),e("div",de,[t(e("input",{"onUpdate:modelValue":s[12]||(s[12]=l=>o.value.family_oriented=l),class:"form-check-input",type:"checkbox",id:"family_oriented"},null,512),[[d,o.value.family_oriented]]),ue])])]),me,r.value?(_(),v("div",{key:0,class:x(["alert mt-3",c.value])},w(r.value),3)):S("",!0)],40,F)])])]))}};export{pe as default};
